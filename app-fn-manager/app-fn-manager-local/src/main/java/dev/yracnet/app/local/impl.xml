<?xml version="1.0" encoding="UTF-8"?>
<files>
    
    <file name="CotizacionFunc.java" layer="impl" dir="." pkg="dev.yracnet.app.fn.manager">
<![CDATA[
import dev.yracnet.app.fn.manager.state.Cotizacion;
import dev.yracnet.app.fn.manager.state.CotizacionFilter;
import com.github.yracnet.state.Message;
import com.github.yracnet.oper.QueryFilter;
import com.github.yracnet.fn.FnMapper;
import com.github.yracnet.fn.FnValidate;
import dev.yracnet.app.model.CapCotizacion;

public class CotizacionFunc {
  
    static FnValidate<CotizacionFilter> validateFilter = (filter) -> {
        Message message = new Message("Filter Allowed");
        //message.required(filter, "Filter Cotizacion");
        
        message.required(filter.cotizacionId, "Required Cotizacion Id");
        message.required(filter.tipo, "Required Tipo");
        message.required(filter.estado, "Required Estado");
        message.required(filter.fecha, "Required Fecha");
        message.required(filter.valorUfv, "Required Valor Ufv");
        message.required(filter.valorInteres, "Required Valor Interes");
        message.required(filter.createdBy, "Required Created By");
        message.required(filter.createdAt, "Required Created At");
        return message;
    };

    static FnValidate<Cotizacion> validateCreate = (value) -> {
        Message message = new Message("Create Cotizacion");
        //message.required(value, "Required Filter");
        
        message.required(value.cotizacionId, "Required Cotizacion Id");
        message.required(value.tipo, "Required Tipo");
        message.required(value.estado, "Required Estado");
        message.required(value.fecha, "Required Fecha");
        message.required(value.valorUfv, "Required Valor Ufv");
        message.required(value.valorInteres, "Required Valor Interes");
        message.required(value.createdBy, "Required Created By");
        message.required(value.createdAt, "Required Created At");
        return message;
    };

    static FnMapper<CotizacionFilter, QueryFilter> mapperQuery = (filter) -> {
        QueryFilter query = new QueryFilter("Query Cotizacion");
        
        query.append("o.cotizacionId", filter.cotizacionId);
        query.append("o.tipo", filter.tipo);
        query.append("o.estado", filter.estado);
        query.append("o.fecha", filter.fecha);
        query.append("o.valorUfv", filter.valorUfv);
        query.append("o.valorInteres", filter.valorInteres);
        query.append("o.createdBy", filter.createdBy);
        query.append("o.createdAt", filter.createdAt);
        return query;
    };

    static FnMapper<Cotizacion, CapCotizacion> mapperEntity = (value) -> {
        CapCotizacion entity = new CapCotizacion();
        
        entity.setCotizacionId(value.cotizacionId);
        entity.setTipo(value.tipo);
        entity.setEstado(value.estado);
        entity.setFecha(value.fecha);
        entity.setValorUfv(value.valorUfv);
        entity.setValorInteres(value.valorInteres);
        entity.setCreatedBy(value.createdBy);
        entity.setCreatedAt(value.createdAt);
        return entity;
    };

    static FnMapper<CapCotizacion, Cotizacion> mapperData = (entity) -> {
        Cotizacion value = new Cotizacion();
        
        value.cotizacionId = entity.getCotizacionId();
        value.tipo = entity.getTipo();
        value.estado = entity.getEstado();
        value.fecha = entity.getFecha();
        value.valorUfv = entity.getValorUfv();
        value.valorInteres = entity.getValorInteres();
        value.createdBy = entity.getCreatedBy();
        value.createdAt = entity.getCreatedAt();
        return value;
    };
}
]]></file>
    <file name="CotizacionImpl.java" layer="impl" dir="." pkg="dev.yracnet.app.fn.manager">
<![CDATA[
import dev.yracnet.app.fn.manager.state.Cotizacion;
import dev.yracnet.app.fn.manager.state.CotizacionFilter;
import dev.yracnet.app.fn.manager.CotizacionLocal;
import com.github.yracnet.state.ResultNon;
import com.github.yracnet.state.ResultSet;
public class CotizacionImpl implements CotizacionServ {

    private CotizacionLocal local = new CotizacionLocal();

    @Override
  public ResultSet<Cotizacion> cotizacionFilter(CotizacionFilter filter){
        ResultNon<CotizacionFilter> result = new ResultNon<>(filter);
        ResultSet<Cotizacion> resultSet = result.validate(CotizacionFunc.validateFilter)
                .mapper(CotizacionFunc.mapperQuery)
                .callSet(local.filter)
                .mapper(CotizacionFunc.mapperData);
        return resultSet;
  }
    @Override
  public ResultNon<Cotizacion> cotizacionCreate(Cotizacion value){
        ResultNon<Cotizacion> result = new ResultNon<>(value);
        ResultNon<Cotizacion> resultNon = result.validate(CotizacionFunc.validateCreate)
                .mapper(CotizacionFunc.mapperEntity)
                .callNon(local.create)
                .mapper(CotizacionFunc.mapperData);
        return resultNon;
  }
    @Override
  public ResultNon<Cotizacion> cotizacionUpdate(Cotizacion value){
        ResultNon<Cotizacion> result = new ResultNon<>(value);
        ResultNon<Cotizacion> resultNon = result.validate(CotizacionFunc.validateCreate)
                .mapper(CotizacionFunc.mapperEntity)
                .callNon(local.update)
                .mapper(CotizacionFunc.mapperData);
        return resultNon;
  }
    @Override
  public ResultNon<Cotizacion> cotizacionRemove(Cotizacion value){
        ResultNon<Cotizacion> result = new ResultNon<>(value);
        ResultNon<Cotizacion> resultNon = result.validate(CotizacionFunc.validateCreate)
                .mapper(CotizacionFunc.mapperEntity)
                .callNon(local.remove)
                .mapper(CotizacionFunc.mapperData);
        return resultNon;
  }
}
]]></file>
    
</files>
